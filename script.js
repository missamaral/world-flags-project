const generateRandomFlag = () => {

    const unitedNationsCountryCode =['784','020','004','028','660','008','051','024','010','032','016','040','036','533','248','031','070','052','050','056','854','100','048','108','204','652','060','096','068','535','076','044','064','074','072','112','084','124','166','180','140','178','756','384','184','152','120','156','170','188','192','132','531','162','196','203','276','262','208','212','214','012','218','233','818','732','232','724','231','246','242','238','583','234','250','826','308','268','254','831','288','292','304','270','324','312','226','300','239','320','316','624','328','344','334','340','191','332','348','360','372','376','833','356','086','368','364','352','380','832','388','400','392','404','417','116','296','174','659','408','410','414','136','398','418','422','662','438','144','430','426','440','442','428','434','504','492','498','499','663','450','584','807','466','104','496','446','580','474','478','500','470','480','462','454','484','458','508','516','540','562','574','566','558','528','578','524','520','570','554','512','591','604','258','598','608','586','616','666','612','630','275','620','585','600','634','638','642','688','643','646','682','090','690','729','752','702','654','705','744','703','694','674','686','706','740','728','678','222','534','760','748','796','148','260','768','764','762','772','626','795','788','776','792','780','798','158','834','804','800','840','858','860','336','670','862','092','850','704','548','876','882','887','175','710','894','716']

    let randomCountryCode = unitedNationsCountryCode[Math.floor(Math.random()*unitedNationsCountryCode.length)];
    
    let randomFlag = document.querySelector('img');

    console.log(`https://countryflagsapi.com/png/${randomCountryCode}`)

    return fetch(`https://countryflagsapi.com/png/${randomCountryCode}`)
    .then(function(response) {
        return response.blob();
    }).then(function(myBlob) {
        let objectURL = URL.createObjectURL(myBlob);
        randomFlag.src = objectURL;
    });
}

const button = document.querySelector('button');
button.onclick = generateRandomFlag;